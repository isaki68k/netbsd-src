audio ミキシング

ユーザランドは自分のレーンに、MI が受け入れ可能なフォーマットでデータを出力

=== ここからカーネルランド
各レーンからの入力を MI 内部フォーマットに変換
 エンコーディング、ビット数変換
 周波数変換

各チャンネルごとに、各レーンのデータを時刻同期して平均合成

MD のサポートするチャンネル数へ、チャンネル間合成 (ステレオ->モノラル変換等)

MI 内部フォーマットを MD フォーマットに変換
 周波数変換
 エンコーディング、ビット数変換

ハードウェアへ出力




現状の構成を基本として考えると、
o. ユーザランドが出力可能なフォーマットは、MI が知っているフォーマットに限定される。
ハードウェアが直接サポートしているフォーマットを出力することは、それをMIが知らない限り、できない。

o. MI 内部フォーマットを MD フォーマットに変換する部分を誰が担当するか。
 A. 周波数変換は MI、エンコーディング＆ビット数変換は MD でやる方法
 B. 全部 MD でやる方法

o. チャンネル間合成はどうするのか
 MI でいいけど、チャンネル特性を MD から渡してもらわないといけないよね。。。
 渡ってるんだっけ？





